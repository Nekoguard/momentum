(()=>{"use strict";const e=[{title:"Aqua Caelestis",src:"sounds/Aqua-Caelestis.mp3",duration:"00:39"},{title:"Ennio Morricone",src:"sounds/Ennio-Morricone.mp3",duration:"01:37"},{title:"River Flows In You",src:"sounds/River-Flows-In-You.mp3",duration:"01:37"},{title:"Summer Wind",src:"sounds/Summer-Wind.mp3",duration:"01:50"}],t=document.querySelector(".time"),n=document.querySelector(".date"),o=document.querySelector(".greeting"),a=document.querySelector(".name"),c=document.querySelector(".slide-next"),r=document.querySelector(".slide-prev"),i=document.querySelector(".weather"),s=i.querySelector(".city"),u=i.querySelector(".weather-icon"),l=i.querySelector(".temperature"),d=i.querySelector(".weather-description"),m=i.querySelector(".wind"),y=i.querySelector(".humidity"),p=document.querySelector(".quote"),S=document.querySelector(".author"),g=document.querySelector(".settings"),h=document.querySelector(".change-quote"),v=document.querySelector(".settings__modal"),L=document.querySelector(".play"),f=document.querySelector(".play-next"),q=document.querySelector(".play-prev"),w=document.querySelector(".play-list"),E=new Audio;let C,x=!1,$=0;function k(){const e=(new Date).getHours();return e>=0&&e<=5?"night":e>5&&e<=11?"morning":e>11&&e<=17?"afternoon":e>17&&e<=23?"evening":void 0}function b(){let e=k();const t=new Image;t.src=`https://raw.githubusercontent.com/Nekoguard/stage1-tasks/assets/images/${e}/${C}.jpg`,t.addEventListener("load",(()=>{document.body.style.backgroundImage=`url(${t.src})`}))}async function A(){s.value||(s.value="Minsk");const e=`https://api.openweathermap.org/data/2.5/weather?q=${s.value}&lang=en&appid=2643b822a0a8b1d5d616f10bdc1942de&units=metric`,t=await fetch(e),n=await t.json();u.className="weather-icon owf",u.classList.add(`owf-${n.weather[0].id}`),l.textContent=`${Math.round(n.main.temp)}Â°C`,d.textContent=n.weather[0].description,y.textContent=`Humidity: ${Math.round(n.main.humidity)}%`,m.textContent=`Wind speed: ${Math.round(n.wind.speed)} m/s`}async function I(){const e=await fetch("https://api.quotable.io/random"),t=await e.json();p.textContent=`" ${t.content} "`,S.textContent=`${t.author}`}!function(e=1,t=20){e=Math.ceil(e),t=Math.floor(t);let n=Math.floor(Math.random()*(t-e+1))+e;C=n.toString().padStart(2,"0")}(),b(),I(),e.forEach((e=>{const t=document.createElement("li");t.classList.add("play-item"),t.textContent=`${e.title}`,w.append(t)}));const M=document.querySelectorAll(".play-item");A(),s.addEventListener("change",A),window.addEventListener("beforeunload",(function(){localStorage.setItem("ALName",a.value),localStorage.setItem("ALCity",s.value)})),window.addEventListener("load",(function(){localStorage.getItem("ALName")&&(a.value=localStorage.getItem("ALName")),localStorage.getItem("ALCity")&&(s.value=localStorage.getItem("ALCity"),A())})),c.addEventListener("click",(function(){let e=Number(C);e++,e>20&&(e=1),C=e.toString().padStart(2,"0"),b()})),r.addEventListener("click",(function(){let e=Number(C);e--,e<1&&(e=20),C=e.toString().padStart(2,"0"),b()})),g.addEventListener("click",(function(){v.classList.contains("closed")?v.classList.remove("closed"):v.classList.add("closed")})),h.addEventListener("click",I),L.addEventListener("click",(function(){x?x&&(x=!1,L.classList.remove("pause"),E.pause(),M[$].classList.remove("item-active")):(x=!0,L.classList.add("pause"),E.src=e[$].src,E.currentTime=0,E.play(),M.forEach((e=>{e.classList.remove("item-active")})),M[$].classList.add("item-active"))})),f.addEventListener("click",(function(){$===e.length-1?$=0:$++,x=!0,L.classList.add("pause"),E.src=e[$].src,E.currentTime=0,E.play(),M.forEach((e=>{e.classList.remove("item-active")})),M[$].classList.add("item-active")})),q.addEventListener("click",(function(){0===$?$=e.length-1:$--,x=!0,L.classList.add("pause"),E.src=e[$].src,E.currentTime=0,E.play(),M.forEach((e=>{e.classList.remove("item-active")})),M[$].classList.add("item-active")})),function e(){const a=new Date;t.textContent=a.toLocaleTimeString("ru-RU",{hour12:!1}),function(){const e=new Date;n.textContent=e.toLocaleDateString("ru-Ru",{month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}(),function(){const e=k();o.textContent=`Good ${e},`}(),setTimeout(e,1e3)}()})();